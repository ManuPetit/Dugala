/** ColorPicker **/
(function(b){var a=function(){var S={},c,N=65,t,P='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',B={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:true,flat:false},J=function(T,V){var U=j(T);b(V).data("colorpicker").fields.eq(1).val(U.r).end().eq(2).val(U.g).end().eq(3).val(U.b).end()},u=function(T,U){b(U).data("colorpicker").fields.eq(4).val(T.h).end().eq(5).val(T.s).end().eq(6).val(T.b).end()},g=function(T,U){b(U).data("colorpicker").fields.eq(0).val(R(T)).end()},l=function(T,U){b(U).data("colorpicker").selector.css("backgroundColor","#"+R({h:T.h,s:100,b:100}));b(U).data("colorpicker").selectorIndic.css({left:parseInt(150*T.s/100,10),top:parseInt(150*(100-T.b)/100,10)})},G=function(T,U){b(U).data("colorpicker").hue.css("top",parseInt(150-150*T.h/360,10))},h=function(T,U){b(U).data("colorpicker").currentColor.css("backgroundColor","#"+R(T))},E=function(T,U){b(U).data("colorpicker").newColor.css("backgroundColor","#"+R(T))},n=function(T){var V=T.charCode||T.keyCode||-1;if((V>N&&V<=90)||V==32){return false}var U=b(this).parent().parent();if(U.data("colorpicker").livePreview===true){e.apply(this)}},e=function(U){var V=b(this).parent().parent(),T;if(this.parentNode.className.indexOf("_hex")>0){V.data("colorpicker").color=T=m(y(this.value))}else{if(this.parentNode.className.indexOf("_hsb")>0){V.data("colorpicker").color=T=f({h:parseInt(V.data("colorpicker").fields.eq(4).val(),10),s:parseInt(V.data("colorpicker").fields.eq(5).val(),10),b:parseInt(V.data("colorpicker").fields.eq(6).val(),10)})}else{V.data("colorpicker").color=T=i(M({r:parseInt(V.data("colorpicker").fields.eq(1).val(),10),g:parseInt(V.data("colorpicker").fields.eq(2).val(),10),b:parseInt(V.data("colorpicker").fields.eq(3).val(),10)}))}}if(U){J(T,V.get(0));g(T,V.get(0));u(T,V.get(0))}l(T,V.get(0));G(T,V.get(0));E(T,V.get(0));V.data("colorpicker").onChange.apply(V,[T,R(T),j(T)])},o=function(T){var U=b(this).parent().parent();U.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},K=function(){N=this.parentNode.className.indexOf("_hex")>0?70:65;b(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus");b(this).parent().addClass("colorpicker_focus")},I=function(T){var V=b(this).parent().find("input").focus();var U={el:b(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:(this.parentNode.className.indexOf("_hsb")>0?100:255),y:T.pageY,field:V,val:parseInt(V.val(),10),preview:b(this).parent().parent().data("colorpicker").livePreview};b(document).bind("mouseup",U,s);b(document).bind("mousemove",U,L)},L=function(T){T.data.field.val(Math.max(0,Math.min(T.data.max,parseInt(T.data.val+T.pageY-T.data.y,10))));if(T.data.preview){e.apply(T.data.field.get(0),[true])}return false},s=function(T){e.apply(T.data.field.get(0),[true]);T.data.el.removeClass("colorpicker_slider").find("input").focus();b(document).unbind("mouseup",s);b(document).unbind("mousemove",L);return false},w=function(T){var U={cal:b(this).parent(),y:b(this).offset().top};U.preview=U.cal.data("colorpicker").livePreview;b(document).bind("mouseup",U,r);b(document).bind("mousemove",U,k)},k=function(T){e.apply(T.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,(T.pageY-T.data.y))))/150,10)).get(0),[T.data.preview]);return false},r=function(T){J(T.data.cal.data("colorpicker").color,T.data.cal.get(0));g(T.data.cal.data("colorpicker").color,T.data.cal.get(0));b(document).unbind("mouseup",r);b(document).unbind("mousemove",k);return false},x=function(T){var U={cal:b(this).parent(),pos:b(this).offset()};U.preview=U.cal.data("colorpicker").livePreview;b(document).bind("mouseup",U,A);b(document).bind("mousemove",U,q)},q=function(T){e.apply(T.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,(T.pageY-T.data.pos.top))))/150,10)).end().eq(5).val(parseInt(100*(Math.max(0,Math.min(150,(T.pageX-T.data.pos.left))))/150,10)).get(0),[T.data.preview]);return false},A=function(T){J(T.data.cal.data("colorpicker").color,T.data.cal.get(0));g(T.data.cal.data("colorpicker").color,T.data.cal.get(0));b(document).unbind("mouseup",A);b(document).unbind("mousemove",q);return false},v=function(T){b(this).addClass("colorpicker_focus")},Q=function(T){b(this).removeClass("colorpicker_focus")},p=function(U){var V=b(this).parent();var T=V.data("colorpicker").color;V.data("colorpicker").origColor=T;h(T,V.get(0));V.data("colorpicker").onSubmit(T,R(T),j(T),V.data("colorpicker").el)},D=function(T){var X=b("#"+b(this).data("colorpickerId"));X.data("colorpicker").onBeforeShow.apply(this,[X.get(0)]);var Y=b(this).offset();var W=z();var V=Y.top+this.offsetHeight;var U=Y.left;if(V+176>W.t+W.h){V-=this.offsetHeight+176}if(U+356>W.l+W.w){U-=356}X.css({left:U+"px",top:V+"px"});if(X.data("colorpicker").onShow.apply(this,[X.get(0)])!=false){X.show()}b(document).bind("mousedown",{cal:X},O);return false},O=function(T){if(!H(T.data.cal.get(0),T.target,T.data.cal.get(0))){if(T.data.cal.data("colorpicker").onHide.apply(this,[T.data.cal.get(0)])!=false){T.data.cal.hide()}b(document).unbind("mousedown",O)}},H=function(V,U,T){if(V==U){return true}if(V.contains){return V.contains(U)}if(V.compareDocumentPosition){return !!(V.compareDocumentPosition(U)&16)}var W=U.parentNode;while(W&&W!=T){if(W==V){return true}W=W.parentNode}return false},z=function(){var T=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(T?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(T?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(T?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(T?document.documentElement.clientHeight:document.body.clientHeight)}},f=function(T){return{h:Math.min(360,Math.max(0,T.h)),s:Math.min(100,Math.max(0,T.s)),b:Math.min(100,Math.max(0,T.b))}},M=function(T){return{r:Math.min(255,Math.max(0,T.r)),g:Math.min(255,Math.max(0,T.g)),b:Math.min(255,Math.max(0,T.b))}},y=function(V){var T=6-V.length;if(T>0){var W=[];for(var U=0;U<T;U++){W.push("0")}W.push(V);V=W.join("")}return V},d=function(T){var T=parseInt(((T.indexOf("#")>-1)?T.substring(1):T),16);return{r:T>>16,g:(T&65280)>>8,b:(T&255)}},m=function(T){return i(d(T))},i=function(V){var U={h:0,s:0,b:0};var W=Math.min(V.r,V.g,V.b);var T=Math.max(V.r,V.g,V.b);var X=T-W;U.b=T;if(T!=0){}U.s=T!=0?255*X/T:0;if(U.s!=0){if(V.r==T){U.h=(V.g-V.b)/X}else{if(V.g==T){U.h=2+(V.b-V.r)/X}else{U.h=4+(V.r-V.g)/X}}}else{U.h=-1}U.h*=60;if(U.h<0){U.h+=360}U.s*=100/255;U.b*=100/255;return U},j=function(T){var V={};var Z=Math.round(T.h);var Y=Math.round(T.s*255/100);var U=Math.round(T.b*255/100);if(Y==0){V.r=V.g=V.b=U}else{var aa=U;var X=(255-Y)*U/255;var W=(aa-X)*(Z%60)/60;if(Z==360){Z=0}if(Z<60){V.r=aa;V.b=X;V.g=X+W}else{if(Z<120){V.g=aa;V.b=X;V.r=aa-W}else{if(Z<180){V.g=aa;V.r=X;V.b=X+W}else{if(Z<240){V.b=aa;V.r=X;V.g=aa-W}else{if(Z<300){V.b=aa;V.g=X;V.r=X+W}else{if(Z<360){V.r=aa;V.g=X;V.b=aa-W}else{V.r=0;V.g=0;V.b=0}}}}}}}return{r:Math.round(V.r),g:Math.round(V.g),b:Math.round(V.b)}},C=function(T){var U=[T.r.toString(16),T.g.toString(16),T.b.toString(16)];b.each(U,function(V,W){if(W.length==1){U[V]="0"+W}});return U.join("")},R=function(T){return C(j(T))},F=function(){var U=b(this).parent();var T=U.data("colorpicker").origColor;U.data("colorpicker").color=T;J(T,U.get(0));g(T,U.get(0));u(T,U.get(0));l(T,U.get(0));G(T,U.get(0));E(T,U.get(0))};return{init:function(T){T=b.extend({},B,T||{});if(typeof T.color=="string"){T.color=m(T.color)}else{if(T.color.r!=undefined&&T.color.g!=undefined&&T.color.b!=undefined){T.color=i(T.color)}else{if(T.color.h!=undefined&&T.color.s!=undefined&&T.color.b!=undefined){T.color=f(T.color)}else{return this}}}return this.each(function(){if(!b(this).data("colorpickerId")){var U=b.extend({},T);U.origColor=T.color;var W="collorpicker_"+parseInt(Math.random()*1000);b(this).data("colorpickerId",W);var V=b(P).attr("id",W);if(U.flat){V.appendTo(this).show()}else{V.appendTo(document.body)}U.fields=V.find("input").bind("keyup",n).bind("change",e).bind("blur",o).bind("focus",K);V.find("span").bind("mousedown",I).end().find(">div.colorpicker_current_color").bind("click",F);U.selector=V.find("div.colorpicker_color").bind("mousedown",x);U.selectorIndic=U.selector.find("div div");U.el=this;U.hue=V.find("div.colorpicker_hue div");V.find("div.colorpicker_hue").bind("mousedown",w);U.newColor=V.find("div.colorpicker_new_color");U.currentColor=V.find("div.colorpicker_current_color");V.data("colorpicker",U);V.find("div.colorpicker_submit").bind("mouseenter",v).bind("mouseleave",Q).bind("click",p);J(U.color,V.get(0));u(U.color,V.get(0));g(U.color,V.get(0));G(U.color,V.get(0));l(U.color,V.get(0));h(U.color,V.get(0));E(U.color,V.get(0));if(U.flat){V.css({position:"relative",display:"block"})}else{b(this).bind(U.eventName,D)}}})},showPicker:function(){return this.each(function(){if(b(this).data("colorpickerId")){D.apply(this)}})},hidePicker:function(){return this.each(function(){if(b(this).data("colorpickerId")){b("#"+b(this).data("colorpickerId")).hide()}})},setColor:function(T){if(typeof T=="string"){T=m(T)}else{if(T.r!=undefined&&T.g!=undefined&&T.b!=undefined){T=i(T)}else{if(T.h!=undefined&&T.s!=undefined&&T.b!=undefined){T=f(T)}else{return this}}}return this.each(function(){if(b(this).data("colorpickerId")){var U=b("#"+b(this).data("colorpickerId"));U.data("colorpicker").color=T;U.data("colorpicker").origColor=T;J(T,U.get(0));u(T,U.get(0));g(T,U.get(0));G(T,U.get(0));l(T,U.get(0));h(T,U.get(0));E(T,U.get(0))}})}}}();b.fn.extend({ColorPicker:a.init,ColorPickerHide:a.hidePicker,ColorPickerShow:a.showPicker,ColorPickerSetColor:a.setColor})})(jQuery);

/** ZeroClipboard **/
var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(a){if(typeof(a)=="string"){a=document.getElementById(a)}if(!a.addClass){a.hide=function(){this.style.display="none"};a.show=function(){this.style.display=""};a.addClass=function(b){this.removeClass(b);this.className+=" "+b};a.removeClass=function(d){var e=this.className.split(/\s+/);var b=-1;for(var c=0;c<e.length;c++){if(e[c]==d){b=c;c=e.length}}if(b>-1){e.splice(b,1);this.className=e.join(" ")}return this};a.hasClass=function(b){return !!this.className.match(new RegExp("\\s*"+b+"\\s*"))}}return a},setMoviePath:function(a){this.moviePath=a},dispatch:function(d,b,c){var a=this.clients[d];if(a){a.receiveEvent(b,c)}},register:function(b,a){this.clients[b]=a},getDOMObjectPosition:function(c,a){var b={left:0,top:0,width:c.width?c.width:c.offsetWidth,height:c.height?c.height:c.offsetHeight};while(c&&(c!=a)){b.left+=c.offsetLeft;b.top+=c.offsetTop;c=c.offsetParent}return b},Client:function(a){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId="ZeroClipboardMovie_"+this.id;ZeroClipboard.register(this.id,this);if(a){this.glue(a)}}};ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:"",handCursorEnabled:true,cssEffects:true,handlers:null,glue:function(d,b,e){this.domElement=ZeroClipboard.$(d);var f=99;if(this.domElement.style.zIndex){f=parseInt(this.domElement.style.zIndex,10)+1}if(typeof(b)=="string"){b=ZeroClipboard.$(b)}else{if(typeof(b)=="undefined"){b=document.getElementsByTagName("body")[0]}}var c=ZeroClipboard.getDOMObjectPosition(this.domElement,b);this.div=document.createElement("div");var a=this.div.style;a.position="absolute";a.left=""+c.left+"px";a.top=""+c.top+"px";a.width=""+c.width+"px";a.height=""+c.height+"px";a.zIndex=f;if(typeof(e)=="object"){for(addedStyle in e){a[addedStyle]=e[addedStyle]}}b.appendChild(this.div);this.div.innerHTML=this.getHTML(c.width,c.height)},getHTML:function(d,a){var c="";var b="id="+this.id+"&width="+d+"&height="+a;if(navigator.userAgent.match(/MSIE/)){var e=location.href.match(/^https/i)?"https://":"http://";c+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+e+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+d+'" height="'+a+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+b+'"/><param name="wmode" value="transparent"/></object>'}else{c+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+d+'" height="'+a+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+b+'" wmode="transparent" />'}return c},hide:function(){if(this.div){this.div.style.left="-2000px"}},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML="";var a=document.getElementsByTagName("body")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null;this.div=null}},reposition:function(c){if(c){this.domElement=ZeroClipboard.$(c);if(!this.domElement){this.hide()}}if(this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement);var a=this.div.style;a.left=""+b.left+"px";a.top=""+b.top+"px"}},setText:function(a){this.clipText=a;if(this.ready){this.movie.setText(a)}},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");if(!this.handlers[a]){this.handlers[a]=[]}this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a;if(this.ready){this.movie.setHandCursor(a)}},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(d,e){d=d.toString().toLowerCase().replace(/^on/,"");switch(d){case"load":this.movie=document.getElementById(this.movieId);if(!this.movie){var c=this;setTimeout(function(){c.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var c=this;setTimeout(function(){c.receiveEvent("load",null)},100);this.ready=true;return}this.ready=true;this.movie.setText(this.clipText);this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":if(this.domElement&&this.cssEffects){this.domElement.addClass("hover");if(this.recoverActive){this.domElement.addClass("active")}}break;case"mouseout":if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass("active")){this.domElement.removeClass("active");this.recoverActive=true}this.domElement.removeClass("hover")}break;case"mousedown":if(this.domElement&&this.cssEffects){this.domElement.addClass("active")}break;case"mouseup":if(this.domElement&&this.cssEffects){this.domElement.removeClass("active");this.recoverActive=false}break}if(this.handlers[d]){for(var b=0,a=this.handlers[d].length;b<a;b++){var f=this.handlers[d][b];if(typeof(f)=="function"){f(this,e)}else{if((typeof(f)=="object")&&(f.length==2)){f[0][f[1]](this,e)}else{if(typeof(f)=="string"){window[f](this,e)}}}}}}};

/** Generator **/
$(function(){var a;var b=[" ","-o-","-moz-","-webkit-","-ms-"," "];var c={gradientProps:{type:"linear",xStart:"left",yStart:"bottom",xEnd:"left",yEnd:"top",},selectStates:{xStart:false,yStart:false,xEnd:false,yEnd:false},sample:$("#sample-btn"),picker:$("#color-picker"),gradientString:$("#gradient-css pre"),init:function(){var e=$(".select-wrapper");a=cssGradient.swatch;a.init();d.generateRandomGradient();c.picker.ColorPicker({flat:true,onChange:c.retrieveColor,}).ColorPickerSetColor("#23adad").mouseup(c.updateCodeSample);e.find("select").change(c.selectChange);e.find("input[type=text]").keyup(c.selectCustomChange);$("#swatch-slider").bind("slidechange slide",c.setGradient);$("#remove-trigger").click(c.setGradient);$("#slider-input input[type=text]").bind("keyup",c.setGradient);$("#add-swatch").click(c.setGradient);$("#color-swatches .swatch").live("click",function(){var f=a.getSwatchColor();c.picker.ColorPickerSetColor(f)});$("#randomize-trigger").click(function(f){f.preventDefault();a.emptyPalette();d.generateRandomGradient();c.setGradient()});$("#color-format").change(function(f){c.setGradient()});c.setGradient()},retrieveColor:function(e,g,f){if(a.getPaletteLength()>0){a.setColor(f,g);c.setGradient()}},setGradient:function(){var j=c.generateLinearGradient();var h=c.sample[0];var f="";for(var g=0,e=b.length;g<e;g++){f=f+"background: "+b[g]+j+";"}f=f+"background: "+c.generateWebkitGradient()+";";h.style.cssText=f;c.updateCodeSample()},updateCodeSample:function(){var o=c.generateLinearGradient();var e=c.gradientString;var m="background-image: ";var j="background-image:"+b.join(o+";\n"+m);j=j.slice(0,-(m.length+1));var g=c.gradientProps;j=j+"\n"+m+"-webkit-gradient(\n\t";j=j+g.type+",\n\t";j=j+c.fetchGradientStart()+",\n\t";j=j+c.fetchGradientEnd()+",\n\t";var n=a.getPalette();var h=a.getPaletteLength();var q=c.getColor;var p,l;for(var k=0;k<h;k++){var f=(k===h-1)?"\n":",\n\t";p=n[k];l=p.position/100;j=j+"color-stop("+l+", "+q(p)+")"+f}j=j+");";e.html(j)},getColor:function(h){var g=a.getColorFormat();var e;if(g==="hex"){e="#"+h.hex.toUpperCase()}else{var f=h.rgb;e="rgb("+f.r+","+f.g+","+f.b+")"}return e},generateLinearGradient:function(){var f=c.gradientProps,g=f.type+"-gradient(",e="";$sample=c.sample,gCount=a.getPaletteLength(),palette=a.getPalette();if(f.xStart!==f.xEnd){g=g+f.xStart+" "}if(f.yStart!==f.yEnd){g=g+f.yStart}g=g+", ";var h=c.getColor;$.each(palette,function(i,j){if(i>0){e=e+" "}e=e+h(j)+" "+j.position+"%,"});g=g+e;g=g.substr(0,g.length-1)+")";return g},generateWebkitGradient:function(){var j=c.gradientProps,l="-webkit-gradient("+j.type+","+c.fetchGradientStart()+","+c.fetchGradientEnd()+",",g="";var e=a.getPalette(),f=e.length,k,m;for(var h=0;h<f;h++){m=e[h];k=(m.position/100);g=g+"color-stop("+k+", rgb("+m.rgb.r+","+m.rgb.g+","+m.rgb.b+")),"}l=l+g;l=l.substr(0,l.length-1)+");";return l},fetchGradientStart:function(){var e=c.gradientProps;return e.xStart+" "+e.yStart},fetchGradientEnd:function(){var e=c.gradientProps;return e.xEnd+" "+e.yEnd},selectChange:function(h){h.preventDefault();var g=h.target;var j=$(g).attr("id");var i=$(g).attr("value");if(i!=="custom"){if(c.selectStates[j]){c.selectStates[j]=false;var f=$(g).parent();f.find("input[type=text]").addClass("hide").attr("value",0)}c.gradientProps[j]=$(g).attr("value");c.setGradient();c.updateCodeSample()}else{var f=$(g).parent();f.find("input[type=text]").removeClass("hide");c.selectStates[j]=true}},selectCustomChange:function(g){g.preventDefault();var f=g.target;var h=$(f).parent();var i=h.attr("id");i=i.split("-");i=i[0];c.gradientProps[i]=$(f).attr("value");c.setGradient();c.updateCodeSample()}};var d={generateRandomGradient:function(){var g;do{g=Math.floor(4*Math.random())}while(g<=1);var e=d.createRandomColor();a.createSwatch({rgb:e,hex:a.rgbToHex(e),position:d.generateRandomPosition()});for(var f=1;f<g;f++){a.createSwatch()}},generateRandomRGB:function(){return Math.floor(255*Math.random())},generateRandomPosition:function(){return Math.floor(50*Math.random())},createRandomColor:function(){return{r:d.generateRandomRGB(),g:d.generateRandomRGB(),b:d.generateRandomRGB()}}};c.init()});

/** Swatches **/
if(typeof cssGradient==="undefined"){var cssGradient={}}cssGradient.swatch=(function(){Array.prototype.remove=function(B,A){var z=this.slice((A||B)+1||this.length);this.length=B<0?this.length+B:B;return this.push.apply(this,z)};var w=[];var d=0;var s;var q=0;var t="rgb";var h=$("#swatch-controls");var v=function(){s=$("#color-swatches");l();$("#add-swatch").click(function(z){z.preventDefault();g();$("#"+q).click()});$("#color-format").change(function(z){var A=$(this).val();t=A;k(A)});$("#slider-input input[type=text]").bind("keyup",f);$("#color-swatches li.swatch").live("click",m);h.find("#swatch-slider").slider({change:j,slide:j,});h.find("#remove-trigger").click(i)};var g=function(C){var B=$("#swatch-template").clone(true);d++;var D=d,A=w.length,z=w[A-1];B.attr("id","swatch-"+D).attr("rel","swatch-"+D).removeClass("hide");s.append(B);if(C){x("swatch-"+D,C)}else{if(z){var F=o(z.rgb);var E={rgb:F,hex:u(F),position:p(z.position)};x("swatch-"+D,E)}else{x("swatch-"+D)}}B.click()};var x=function(A,z){var z=z||function(){var C=y();return{rgb:C.rgb,hex:C.hex,position:0}}();var B=$("#"+A);B.click(m);d++;w.push({rgb:z.rgb,hex:z.hex,id:A,position:z.position});B.find("a").css("background-color","rgb("+z.rgb.r+","+z.rgb.g+","+z.rgb.b+")");q=w.length-1;a(z.position)};var i=function(A){A.preventDefault();var z;q===0?z=1:z=q-1;$("#"+w[q].id).remove();w.remove(q);var B=w[z];if(B){$("#"+B.id).click()}};var m=function(z){z.preventDefault();q=e(this.id);s.find(".selected-swatch").removeClass("selected-swatch");$(this).addClass("selected-swatch");a()};var a=function(){var z=w[q];$("#swatch-slider").slider("option","value",z.position);$("#slider-input input[type=text]").attr("value",z.position)};var c=function(z,A){var B=w[q];B.hex=A;B.rgb=z;$("#"+B.id).find("a").css("background-color","#"+A)};var b=function(A,z){if(w[A]){w[A].position=z}};var j=function(A,z){if(w[q]){w[q].position=z.value;$("#slider-input input[type=text]").attr("value",z.value)}};var f=function(B){B.preventDefault();var A=B.target;var z=this.value;if(z>=0&&z<=100){$("#swatch-slider").slider("option","value",z);w[q].position=z}};var y=function(){};var e=function(A){for(var z=0;z<w.length;z++){if(w[z].id===A){return z}}return false};var o=function(z){return{r:n(z.r),g:n(z.g),b:n(z.b)}};var n=function(z){if(z===0){z++}var B=Math.ceil(255/z)/10;var A=Math.ceil(B*z)+z;if(A>255){return 255}return A};var p=function(z){var A=100-z;var B=Math.ceil(A*0.5);return B+z;return z};var r=function(){w=[];$("#color-swatches .swatch").remove()};var l=function(){var D=document.cookie;if(D.length===0){return false}var E=D.split(";");var G,C,F;var A=["rgb","hex"];for(var B=0,z=E.length;B<z;B++){G=E[B].split("=");C=G[0].replace(/^\s+|\s+$/g,"");F=G[1];if(C==="format"){if(A.indexOf(F)!==-1){t=F;$("#color-format option[value="+F+"]")[0].selected=true}else{k("rgb")}}}};var k=function(B){var A=new Date();A.setTime(A.getTime()+(730*24*60*60*1000));var z="; expires="+A.toGMTString();document.cookie="format="+B+z+"; path=/"};var u=function(z){var A=z.b|(z.g<<8)|(z.r<<16);return A.toString(16)};return{init:v,setColor:c,createSwatch:g,emptyPalette:r,rgbToHex:u,getColorFormat:function(){return t},getCurrentSwatch:function(){return q},getPalette:function(){return w},getPaletteLength:function(){return w.length},getSwatchColor:function(){return w[q].rgb}}})();

